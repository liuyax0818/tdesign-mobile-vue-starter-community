# 首页 {#home}

本界面是`首页`，是启动应用后进入的首个页面。用户可以通过这个页面进入任何一个自己想要的页面

## 页面思路 {#design-idea}

**本页面的视觉稿如图所示**

![首页视觉稿](/images/home.png)

根据视觉稿的特点，将页面依次划分为 `顶部导航栏模块`、`选项卡模块`、`下拉刷新模块`、`内容卡片模块` 和 `发布按钮` 五个不同的功能模块进行开发

`内容卡片模块` 是本页面的核心模块，具有两种卡片，分别是普通卡片和轮播图卡片，而 `Banner` 部分则在`layout` 中进行统一管理。

## 模块功能 {#features}

**顶部导航栏**

- 提供迷你搜索入口，点击可跳转至完整搜索页面
- 提供左侧菜单按钮，点击可展开左侧菜单

**选项卡模块**

- 提供"推荐"和"我的关注"两个选项卡
- 支持选项卡切换，点击可切换不同分类的内容

**下拉刷新模块**

采用 `t-pull-down-refresh` 下拉刷新组件，用以更新页面内容

**内容卡片模块**

- 内容卡片有两种类型：图片卡片和轮播卡片
- 图片卡片包含图片、标题和标签信息
- 轮播卡片支持图片自动轮播展示
- 两者通过 `type` 来区分渲染

**发布按钮**

固定在页面右下方，不随画面滑动移动，提供跳转发布界面功能，支持长按移动按钮位置

## 模块结构 {#structure}

**代码结构**

```
src/views/home/
├── index.vue       // 首页的主要组件，包含页面结构和布局
├── hooks.tsx       // 集成了首页相关的业务逻辑，包括状态管理和事件处理
└── components/     // 首页的子组件
    ├── Card.vue    // 内容卡片组件
    ├── MiniSearch.vue // 迷你搜索框组件
    └── Swiper.vue  // 轮播卡片组件
```

**index.vue**

该文件负责主页的结构和布局

- 逻辑集成在 `hooks.tsx` 中，导入并使用 `useHomeHook` 获取首页相关的状态和方法
- 导入所需的子组件：`Card`、`MiniSearch` 和 `Swiper`
- 模板部分包含顶部导航栏、搜索框、内容分类标签、下拉刷新内容区和浮动发布按钮
- 尽可能使用 TDesign 组件库的组件实现，例如 `t-tabs`、`t-pull-down-refresh`等

**hooks.tsx**

该文件抽离了首页的业务逻辑

- 定义 `ContentType` 接口，规范内容数据结构
- 使用 `ref` 创建响应式状态（数据列表、当前选中标签、下拉刷新状态等）
- 使用 `useRouter` 获取路由实例，实现页面导航功能
- 定义事件处理函数（切换标签、下拉刷新、页面滚动等）
- 使用 `useDebounceFn` 优化滚动事件处理，提高性能

**子组件**

- **Card.vue**：展示单张图片类型的内容卡片，包含图片、标题和标签信息
- **MiniSearch.vue**：提供迷你搜索入口，点击可跳转至搜索页面
- **Swiper.vue**：实现图片轮播功能的内容卡片，支持自动轮播及滑动切换显示

## 开发指南 {#development-guide}

1. **子组件开发**：在 `components` 目录下修改 `Card.vue`、`MiniSearch.vue` 和 `Swiper.vue` 组件，或实现新的组件
2. **业务逻辑开发**：在 `hooks.tsx` 中修改首页相关的状态管理和业务逻辑
3. **页面整合**：在 `index.vue` 中引入子组件和 `hooks`，构建自己的完整的页面布局和交互逻辑
4. **样式调整**：根据需求调整组件样式

## 扩展建议 {#ext}

1. **个性化推荐**：接入真实的后端接口，实现基于用户兴趣的个性化内容推荐
2. **交互体验优化**：添加更多的动画效果和过渡效果，提升用户体验

## 贡献者 {#contributors}

[Tonite14](https://github.com/Tonite14)、[hikari](https://github.com/liuyax0818)
