# 国际化 {#i18n}

项目内置了国际化支持，基于 [vue-i18n](https://vue-i18n.intlify.dev/) 实现。

## 实现原理 {#principle}

国际化功能分为两部分：语言模块和底层逻辑模块。

- 语言模块位于 `locales` 目录，采用 `yaml` 格式。新增翻译文本时，只需在对应语言的 `yaml` 文件中添加相应内容即可。
- 底层逻辑模块位于 `src/plugins/i18n.ts`，通过一个名为 `processI18n` 的立即执行函数读取语言文件，并将其加载到 `vue-i18n` 中。

## 使用方法 {#usage}

推荐配合 `vscode` 插件 `lokalise.i18n-ally` 来获得更好的开发体验

**示例代码**

```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { t } = useI18n()
</script>

<template>
  <p>{{ t("global.title") }}</p>
</template>
```

## 高级用法 {#advanced}

项目默认支持 `zh-cn` 和 `en-us` 两种语言。如需新增其他语言，请按以下步骤操作：

- `locales` 文件夹中新建对应语言的 `yaml` 文件（如 `ja.yaml`）。
- `App.vue` 中导入组件库内置的该语言（若组件库支持）。
- 在切换语言的逻辑中，更新语言列表。

## 注意事项 {#notice}

平台目前仅支持 **单语言-单文件** 结构，暂不支持 **单语言-单文件夹** 模式。如需支持，可自行修改 `processI18n` 的实现逻辑。

**不建议**更改语言模块的位置。如有此需求，请同步修改 `build/plugins` 中 `VueI18nPlugin` 的配置，以及 `i18n.ts` 中 `processI18n` 的路径正则逻辑。

## 贡献者 {#contributors}

[hikari](https://github.com/liuyax0818)、[Reuse5653](https://github.com/Reuse5653)
